### 메모이제이션?

리액트에서는 state, props, context가 변경되면 해당 컴포넌트에서 리렌더링이 발생하고 컴포넌트 안에 있는 모든 값들은 다시 재계산 된다.

이 때 실제로 재계산이 필요한 경우에만 재계산하도록 하는 의도로 메모이제이션을 한다.

## 사용하지 않았을 때 발생할 수 있는 문제

만약에 props로 넘기는 변수가 object라면 리렌더링이 될 때 마다 재할당이 되고 당연히 메모리주소가 바뀌며 props가 변경되었다고 인식한다.

만약 성능이 좋지 않은 list 아이템 컴포넌트에 props를 넘겼다면, 렌더링이 발생할 때 마다 list 아이템 컴포넌트를 재계산하는데 아주 큰 성능이슈가 발생하게 될 것이다.

이 때 React.memo와 React.useMemo를 사용해서 불필요한 렌더링을 막을 수 있을 것이다.

## 메모이제이션에 대한 장점, 단점, 나의 생각

리액트에서 메모이제이션에 대한 논쟁은 핫하다.

회사에서만해도 우리는 의견이 갈리고 있다.
리드 개발자분의 의견은 어떤곳에는 쓰고 안쓰고 생각하는 고민 비용도 비싸고, 굳이 그럴 이유도 없다는 의견이다.
애초에 비싼 계산을 하는 곳도 없고 문제도 없는 코드들이라는게 뻔히 보이는데 왜 넣어야되는지가 이해안된다.

물론 어떤 맥락인지는 이해가 되지만 심적으로 불편하다..

- 극단적으로 예시를 든 코드

```jsx
//메모를 해도 안해도 렌더링이 발생하는 곳에서 왜 항상 얕은 비교 코드를 불필요하게 실행시키는가!
const [state, setState] = React.useState(0);

const memoizedValue = useMemo(() => {
  return state * 2; // 예시로 상태의 두 배를 계산
}, [state]);
return (
  <div>
    {memoizedValue}
    <button onClick={() => setState(state + 1)}>Increment</button>
  </div>
);
```

결론은 생각하는 비용자체보다 그냥 다 쓰는게 더 저렴할 수 있다고는 하지만, 내가 생각하는 이상적인 메모이제이션은 느린 리렌더링이 발생하는 경우의 문제를 해결할 때 사용하면 된다고 생각한다.
